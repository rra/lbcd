.\" Automatically generated by Pod::Man 2.27 (Pod::Simple 3.28)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" Set up some character translations and predefined strings.  \*(-- will
.\" give an unbreakable dash, \*(PI will give pi, \*(L" will give a left
.\" double quote, and \*(R" will give a right double quote.  \*(C+ will
.\" give a nicer C++.  Capital omega is used to do unbreakable dashes and
.\" therefore won't be available.  \*(C` and \*(C' expand to `' in nroff,
.\" nothing in troff, for use with C<>.
.tr \(*W-
.ds C+ C\v'-.1v'\h'-1p'\s-2+\h'-1p'+\s0\v'.1v'\h'-1p'
.ie n \{\
.    ds -- \(*W-
.    ds PI pi
.    if (\n(.H=4u)&(1m=24u) .ds -- \(*W\h'-12u'\(*W\h'-12u'-\" diablo 10 pitch
.    if (\n(.H=4u)&(1m=20u) .ds -- \(*W\h'-12u'\(*W\h'-8u'-\"  diablo 12 pitch
.    ds L" ""
.    ds R" ""
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds -- \|\(em\|
.    ds PI \(*p
.    ds L" ``
.    ds R" ''
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is turned on, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{
.    if \nF \{
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\"
.\" Accent mark definitions (@(#)ms.acc 1.5 88/02/08 SMI; from UCB 4.2).
.\" Fear.  Run.  Save yourself.  No user-serviceable parts.
.    \" fudge factors for nroff and troff
.if n \{\
.    ds #H 0
.    ds #V .8m
.    ds #F .3m
.    ds #[ \f1
.    ds #] \fP
.\}
.if t \{\
.    ds #H ((1u-(\\\\n(.fu%2u))*.13m)
.    ds #V .6m
.    ds #F 0
.    ds #[ \&
.    ds #] \&
.\}
.    \" simple accents for nroff and troff
.if n \{\
.    ds ' \&
.    ds ` \&
.    ds ^ \&
.    ds , \&
.    ds ~ ~
.    ds /
.\}
.if t \{\
.    ds ' \\k:\h'-(\\n(.wu*8/10-\*(#H)'\'\h"|\\n:u"
.    ds ` \\k:\h'-(\\n(.wu*8/10-\*(#H)'\`\h'|\\n:u'
.    ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'^\h'|\\n:u'
.    ds , \\k:\h'-(\\n(.wu*8/10)',\h'|\\n:u'
.    ds ~ \\k:\h'-(\\n(.wu-\*(#H-.1m)'~\h'|\\n:u'
.    ds / \\k:\h'-(\\n(.wu*8/10-\*(#H)'\z\(sl\h'|\\n:u'
.\}
.    \" troff and (daisy-wheel) nroff accents
.ds : \\k:\h'-(\\n(.wu*8/10-\*(#H+.1m+\*(#F)'\v'-\*(#V'\z.\h'.2m+\*(#F'.\h'|\\n:u'\v'\*(#V'
.ds 8 \h'\*(#H'\(*b\h'-\*(#H'
.ds o \\k:\h'-(\\n(.wu+\w'\(de'u-\*(#H)/2u'\v'-.3n'\*(#[\z\(de\v'.3n'\h'|\\n:u'\*(#]
.ds d- \h'\*(#H'\(pd\h'-\w'~'u'\v'-.25m'\f2\(hy\fP\v'.25m'\h'-\*(#H'
.ds D- D\\k:\h'-\w'D'u'\v'-.11m'\z\(hy\v'.11m'\h'|\\n:u'
.ds th \*(#[\v'.3m'\s+1I\s-1\v'-.3m'\h'-(\w'I'u*2/3)'\s-1o\s+1\*(#]
.ds Th \*(#[\s+2I\s-2\h'-\w'I'u*3/5'\v'-.3m'o\v'.3m'\*(#]
.ds ae a\h'-(\w'a'u*4/10)'e
.ds Ae A\h'-(\w'A'u*4/10)'E
.    \" corrections for vroff
.if v .ds ~ \\k:\h'-(\\n(.wu*9/10-\*(#H)'\s-2\u~\d\s+2\h'|\\n:u'
.if v .ds ^ \\k:\h'-(\\n(.wu*10/11-\*(#H)'\v'-.4m'^\v'.4m'\h'|\\n:u'
.    \" for low resolution devices (crt and lpr)
.if \n(.H>23 .if \n(.V>19 \
\{\
.    ds : e
.    ds 8 ss
.    ds o a
.    ds d- d\h'-1'\(ga
.    ds D- D\h'-1'\(hy
.    ds th \o'bp'
.    ds Th \o'LP'
.    ds ae ae
.    ds Ae AE
.\}
.rm #[ #] #H #V #F C
.\" ========================================================================
.\"
.IX Title "LBCDCLIENT 1"
.TH LBCDCLIENT 1 "2013-12-28" "3.5.0" "lbcd"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH "NAME"
lbcdclient \- Query a remote lbcd daemon for system load
.SH "SYNOPSIS"
.IX Header "SYNOPSIS"
lbcdclient [\fB\-2\fR] [\fB\-p\fR \fIport\fR] [\fB\-s\fR \fIservice\fR[,\fIservice\fR ...]]
    [\fB\-t\fR \fItimeout\fR] \fIhost\fR
.SH "DESCRIPTION"
.IX Header "DESCRIPTION"
\&\fBlbcdclient\fR sends a query packet to a remote \fBlbcd\fR server and prints the
results.  The result output will look something like this:
.PP
.Vb 1
\&    PROTOCOL 3
\&
\&    MACHINE STATUS:
\&    l1           = 16           (0.16)
\&    l5           = 5            (0.05)
\&    l15          = 6            (0.06)
\&    current_time = 1387677198   (2013\-12\-21 17:53:18)
\&    boot_time    = 1386357534   (2013\-12\-06 11:18:54)
\&    user_mtime   = 1387250916   (2013\-12\-16 19:28:36)
\&    tot_users    = 12
\&    uniq_users   = 1
\&    on_console   = false
\&    tmp_full     = 8%
\&    tmpdir_full  = 8%
\&
\&    SERVICES (1):
\&    default (0): weight 368, increment 200
.Ve
.PP
\&\f(CW\*(C`l1\*(C'\fR, \f(CW\*(C`l5\*(C'\fR, and \f(CW\*(C`l15\*(C'\fR are the one-minute, five-minute, and
fifteen-minute load averages, times 100, as integers.  The conventional
load averages, as seen with \fBuptime\fR, are shown on the right.
.PP
\&\f(CW\*(C`current_time\*(C'\fR is the current system time in seconds since epoch.
\&\f(CW\*(C`boot_time\*(C'\fR is the time of the last system boot.  \f(CW\*(C`user_mtime\*(C'\fR is the
time information about logged-in users was last modified.  A translation
into a date and time is given on the right.
.PP
\&\f(CW\*(C`tot_users\*(C'\fR is the total number of logged-in users, and \f(CW\*(C`uniq_users\*(C'\fR is
the number of unique logged-in users.  \f(CW\*(C`on_console\*(C'\fR will be \f(CW\*(C`true\*(C'\fR if a
user is logged into the console and \f(CW\*(C`false\*(C'\fR otherwise.
.PP
\&\f(CW\*(C`tmp_full\*(C'\fR is the percentage of space used in the system \fI/tmp\fR
directory and \f(CW\*(C`tmpdir_full\*(C'\fR full is the percentage used in the system
\&\fI/var/tmp\fR directory.
.PP
Finally, for protocol version three queries (the default), the last lines
give information for each service queried, using the extended service
response for the version three packet format.  For each service, its name,
sequence number in the reply, current weight, and current increment are
given.
.PP
If the \fB\-2\fR option is used, \fBlbcdclient\fR will send a version two packet
instead, and the returned results will not include the extended services
output.
.SH "OPTIONS"
.IX Header "OPTIONS"
.IP "\fB\-\-v2\fR, \fB\-2\fR" 4
.IX Item "--v2, -2"
Send a version two protocol packet instead of a version three packet.
Version two doesn't support the separate service weights.
.IP "\fB\-m\fR, \fB\-\-man\fR, \fB\-\-manual\fR" 4
.IX Item "-m, --man, --manual"
Print out this documentation (which is done simply by feeding the script
to \f(CW\*(C`perldoc \-t\*(C'\fR).
.IP "\fB\-\-port\fR=\fIport\fR, \fB\-p\fR \fIport\fR" 4
.IX Item "--port=port, -p port"
Send the query to \fIport\fR instead of the default of 4330.
.IP "\fB\-\-service\fR=\fIservice\fR, \fB\-s\fR \fIservice\fR,[\fIservice\fR ...]" 4
.IX Item "--service=service, -s service,[service ...]"
Request information for the specified service names.  This option can be
given multiple times to request information about multiple services.  The
services can also be specified as a comma-separated list, or a combination
of multiple options and comma-separated lists.
.IP "\fB\-\-timeout\fR=\fItimeout\fR, \fB\-t\fR \fItimeout\fR" 4
.IX Item "--timeout=timeout, -t timeout"
Use a timeout of \fItimeout\fR seconds instead of the default of 10 seconds.
.SH "EXAMPLES"
.IX Header "EXAMPLES"
Send a version three query to www.example.com and print the results:
.PP
.Vb 1
\&    lbcdclient www.example.com
.Ve
.PP
Send a version two query to foo.example.org on port 14330, asking for
information about the \f(CW\*(C`smtp\*(C'\fR and \f(CW\*(C`http\*(C'\fR services in addition to the
default service, with a timeout of five seconds.
.PP
.Vb 1
\&    lbcdclient \-2 \-p 14330 \-t 5 \-s smtp \-s http foo.example.org
.Ve
.SH "AUTHORS"
.IX Header "AUTHORS"
Written by Russ Allbery <eagle@eyrie.org> based on an earlier version
by Larry Schwimmer.
.SH "COPYRIGHT AND LICENSE"
.IX Header "COPYRIGHT AND LICENSE"
Copyright 2000, 2004, 2006, 2012, 2013 The Board of Trustees of the Leland
Stanford Junior University
.PP
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the \*(L"Software\*(R"),
to deal in the Software without restriction, including without limitation
the rights to use, copy, modify, merge, publish, distribute, sublicense,
and/or sell copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following conditions:
.PP
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
.PP
\&\s-1THE SOFTWARE IS PROVIDED \*(L"AS IS\*(R", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL
THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.\s0
.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fIlbcd\fR\|(8)
.PP
The current version of this program is available from its web page at
<http://www.eyrie.org/~eagle/software/lbcd/>.
